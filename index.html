<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roblox Texture Decoder</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; padding: 20px; }
        input { margin: 10px; padding: 10px; }
        button { padding: 10px 20px; }
        pre { background: #f4f4f4; padding: 10px; border: 1px solid #ddd; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>Roblox Texture Decoder</h1>
    <p>Enter a Roblox asset ID to decode its texture into RGBA data.</p>
    <input type="text" id="assetId" placeholder="Enter Asset ID">
    <button onclick="decodeTexture()">Decode</button>
    <pre id="output"></pre>

    <script>
    async function decodeTexture() {
    const assetId = document.getElementById('assetId').value;
    const output = document.getElementById('output');

    if (!assetId) {
        alert('Please enter an asset ID.');
        return;
    }

    output.textContent = 'Processing...';

    try {
        const response = await fetch(`https://roblox-image-to-binary.onrender.com/decode?id=${assetId}`);
        const reader = response.body.getReader();
        const decoder = new TextDecoder('utf-8');
        
        let result = '';
        let done = false;

        while (!done) {
            const { value, done: streamDone } = await reader.read();
            done = streamDone;
            result += decoder.decode(value, { stream: !done });
            output.textContent = `Processing... ${result}`;
        }

        const parsedData = JSON.parse(result);
        output.textContent = JSON.stringify(parsedData, null, 2);
    } catch (error) {
        output.textContent = `Error: ${error.message}`;
    }
}

</script>

</body>
</html>
